// Header estilo CodeRabbit con pill central y acciones a la derecha
header(class="bg-gray-50 text-black py-4")
    .max-w-7xl.mx-auto.px-4.relative.flex.items-center.justify-between
        // Marca (izquierda)
        a(href="/")
            .flex.items-center.gap-3
                img(src="/logo.svg" alt="OpenTrade" style="width: 32px; height: 32px;")
                h1.text-xl
                    span.font-extrabold Open
                    span.font-normal.ml-1 Trade

        // Navegaci√≥n centrada dentro de un pill
        nav(class="hidden md:block absolute left-1/2 -translate-x-1/2")
            div(class="flex items-center gap-6 bg-neutral-900/90 rounded-full py-2 pl-5 pr-3 ring-1 ring-white/10 shadow")
                a(href="/productos" class="text-sm hover:text-orange-400 transition") Productos

                // Categor√≠as (desplegable interactivo)
                .relative
                    button#categoriasBtnApp(
                        class="text-sm flex items-center gap-1 hover:text-orange-400 transition bg-transparent border-0 cursor-pointer text-white"
                        type="button"
                        aria-expanded="false"
                    )
                        | Categor√≠as
                        svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 opacity-80 transition-transform" id="categoriasIconApp")
                            path(fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd")
                    // Men√∫
                    div#categoriasMenuApp(class="absolute top-full left-0 mt-3 min-w-56 bg-neutral-900 border border-white/10 rounded-2xl p-2 hidden z-50")
                        if categoriasMenu && categoriasMenu.length
                            each cat in categoriasMenu
                                a(href=`/productos?categoria=${cat.id}` class="block px-3 py-2 rounded-lg text-sm text-white hover:bg-white/10 transition")= cat.nombre
                        else
                            span.block.px-3.py-2.text-sm.text-gray-400 No hay categor√≠as

        // Acciones (derecha)
        .flex.items-center.gap-4
            if usuario
                a(href="/carrito" class="hidden sm:inline text-sm hover:text-orange-400 transition") üõí Mi Carrito
                a(href="/auth/editar-perfil" class="hidden sm:inline text-sm hover:text-orange-400 transition") Mi Perfil
                a(href="/auth/logout" class="inline-flex items-center gap-2 rounded-full px-4 py-2 border border-orange-500 text-sm hover:bg-orange-500/10 transition")
                    | Cerrar Sesi√≥n
                    svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4")
                        path(fill-rule="evenodd" d="M12.75 3a.75.75 0 00-1.5 0v9.19l-2.47-2.47a.75.75 0 10-1.06 1.06l3.75 3.75a.75.75 0 001.06 0l3.75-3.75a.75.75 0 10-1.06-1.06l-2.47 2.47V3z" clip-rule="evenodd")
            else
                a(href="/auth/login" class="hidden sm:inline text-sm hover:text-orange-400 transition") Iniciar Sesi√≥n
                a(href="/auth/registro" class="inline-flex items-center gap-2 rounded-full px-4 py-2 border border-orange-500 text-sm hover:bg-orange-500/10 transition")
                    | Crear Cuenta
                    svg(xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4")
                        path(fill-rule="evenodd" d="M3.75 12a.75.75 0 01.75-.75h12.19l-2.47-2.47a.75.75 0 111.06-1.06l3.75 3.75a.75.75 0 010 1.06l-3.75 3.75a.75.75 0 11-1.06-1.06l2.47-2.47H4.5a.75.75 0 01-.75-.75z" clip-rule="evenodd")
extends ../../layout/admin

block content
  div(class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8")
    .flex.justify-between.items-center.mb-6
      h1.text-3xl.font-bold.text-gray-900 Editar Categoría
      a(href="/admin/categorias" class="inline-flex items-center px-4 py-2 border border-orange-600 text-orange-600 text-sm font-semibold rounded-full hover:bg-orange-50 transition")
        svg(class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18")

    .bg-white.rounded-xl.shadow-md.p-6.space-y-6
      if errores
        .p-4.bg-red-100.border.border-red-300.text-red-700.rounded-lg
          h3.text-sm.font-medium.mb-2 Error al actualizar
          ul.list-disc.list-inside.space-y-1
            each error in errores
              li.text-sm= error.msg

      form(method="POST" action=`/admin/categorias/editar/${categoria.id}` novalidate class="space-y-5")
        input(type="hidden" name="_csrf" value=csrfToken)

        // Nombre
        div(class="space-y-1")
          label(for="nombre" class="block text-sm font-semibold text-gray-800")
            | Nombre de la Categoría
            span.text-red-500  *
          input#nombre(
            type="text"
            name="nombre"
            value=categoria.nombre
            required
            class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400 text-sm"
            placeholder="Ej: Electrónica"
          )
          p.text-xs.text-gray-500 Entre 2 y 100 caracteres

        // Slug
        div(class="space-y-1")
          label(for="slug" class="block text-sm font-semibold text-gray-800")
            | Slug (URL amigable)
            span.text-red-500  *
          input#slug(
            type="text"
            name="slug"
            value=categoria.slug
            required
            pattern="[a-z0-9-]+"
            class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400 text-sm"
            placeholder="Ej: electronica"
          )
          p.text-xs.text-gray-500 Solo letras minúsculas, números y guiones. Ej: ropa-deportiva

        // Descripción
        div(class="space-y-1")
          label(for="descripcion" class="block text-sm font-semibold text-gray-800") Descripción
          textarea#descripcion(
            name="descripcion"
            rows="4"
            class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 placeholder-gray-400 text-sm"
            placeholder="Descripción breve de la categoría (opcional)"
          )= categoria.descripcion || ''
          p.text-xs.text-gray-500 Opcional. Describe los productos que pertenecen a esta categoría.

        // Estado
        div(class="space-y-1")
          label(for="estado" class="block text-sm font-semibold text-gray-800") Estado
          select#estado(
            name="estado"
            class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 text-sm"
          )
            option(value="activo" selected=categoria.estado === 'activo') Activo
            option(value="inactivo" selected=categoria.estado === 'inactivo') Inactivo
          p.text-xs.text-gray-500 Las categorías inactivas no se mostrarán al crear productos

        // Botones
        div(class="flex flex-col sm:flex-row gap-3 pt-2")
          button(
            type="submit"
            class="flex-1 inline-flex justify-center items-center px-4 py-2.5 border border-transparent rounded-full shadow-md text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 transition"
          ) Guardar Cambios
          a(
            href="/admin/categorias"
            class="flex-1 inline-flex justify-center items-center px-4 py-2.5 border border-orange-200 rounded-full shadow text-sm font-semibold text-orange-700 bg-white hover:bg-orange-50 transition"
          ) Cancelar
